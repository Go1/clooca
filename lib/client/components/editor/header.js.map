{"version":3,"sources":["client/components/editor/header.js"],"names":["React","require","Link","Menu","MenuItem","Resources","AddTabModal","AddObjectModal","AddContainmentModal","ImportJSONModal","ExportJSONModal","TabAction","ModalAction","querystring","repository","Header","createClass","getInitialState","isOpenAddTabModal","isOpenImportJSONModal","isOpenExportJSONModal","isOpenAddObjectModal","props","editorSettings","isOpenAddContainmentModal","componentWillMount","setState","bind","componentDidMount","componentDidUpdate","componentWillUnmount","componentWillReceiveProps","nextProps","addTab","newTab","add","onAddTabMenuSelected","onAddObjectMenuSelected","clooca","getPlugin","request","then","onSaveMenuSelected","modelJson","getModelInterface","getModelJSON","save","uri","data","onImportMenuSelected","onExportMenuSelected","onCloseImportJSONModal","onCloseAddTabModal","onCloseAddObjectModal","close","onCloseAddContainmentModal","onCloseExportJSONModal","onDatasourceSelected","setCurrentModel","render","height","borderBottom","float","overflow","clear","state","pluginNames","target","resourceSet","module","exports"],"mappings":"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","file":"header.js","sourcesContent":["var React = require('react');\nvar Link = require('react-router').Link;\nvar Menu = require('../menu');\nvar MenuItem = require('../menu/item');\nvar Resources = require('./resources');\nvar AddTabModal = require('../modal/addTab');\nvar AddObjectModal = require('../modal/addObject');\nvar AddContainmentModal = require('../modal/addContainment');\nvar ImportJSONModal = require('../modal/importJSON');\nvar ExportJSONModal = require('../modal/exportJSON');\nvar TabAction = require('../../actions/tab');\nvar ModalAction = require('../../actions/modal');\nvar querystring = require('querystring');\n\nvar repository = require('../../../common/core/repository');\n\nlet Header = React.createClass({\n\n  getInitialState: function () {\n    return {\n      isOpenAddTabModal: false,\n      isOpenImportJSONModal: false,\n      isOpenExportJSONModal: false,\n      isOpenAddObjectModal: this.props.editorSettings.isOpenAddObjectModal,\n      isOpenAddContainmentModal: this.props.editorSettings.isOpenAddContainmentModal\n    };\n  },\n\n  componentWillMount: function() {\n  \tvar setState = this.setState.bind(this);\n    \n  },\n\n  componentDidMount: function () {\n  },\n\n  componentDidUpdate: function () {\n  },\n\n  componentWillUnmount : function() {\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    this.setState({\n      isOpenAddContainmentModal: nextProps.editorSettings.isOpenAddContainmentModal\n    });\n  },\n\n  addTab: function(newTab) {\n    TabAction.add(newTab);\n  },\n\n  onAddTabMenuSelected: function() {\n    this.setState({\n      isOpenAddTabModal: true\n    });\n  },\n\n  onAddObjectMenuSelected: function() {\n    clooca.getPlugin('clooca').request('modal', {\n      isOpenAddObjectModal: true\n    }).then(() => {\n    });\n  },\n\n  onSaveMenuSelected: function() {\n    let modelJson = clooca.getModelInterface().getModelJSON();\n    repository.save(clooca, modelJson.uri, modelJson.data).then(()=>{\n\n    });\n  },\n\n  onImportMenuSelected: function() {\n    this.setState({\n      isOpenImportJSONModal: true\n    });\n  },\n\n  onExportMenuSelected: function() {\n    this.setState({\n      isOpenExportJSONModal: true\n    });\n  },\n\n  onCloseImportJSONModal: function() {\n    this.setState({\n      isOpenImportJSONModal: false\n    });\n  },\n\n  onCloseAddTabModal: function() {\n    this.setState({\n      isOpenAddTabModal: false\n    });\n  },\n\n  onCloseAddObjectModal: function() {\n    ModalAction.close();\n  },\n\n  onCloseAddContainmentModal: function() {\n    ModalAction.close();\n  },\n\n  onCloseExportJSONModal: function() {\n    this.setState({\n      isOpenExportJSONModal: false\n    });\n  },\n\n  onDatasourceSelected: function(uri) {\n    clooca.getModelInterface().setCurrentModel(uri);\n  },\n\n  render: function () {\n    /*\n      <MenuItem onSelect={this.onAddObjectMenuSelected}>Add Object</MenuItem>\n    */\n    return (\n    \t<div className=\"core-header\" style={{height:\"32px\", borderBottom:\"solid 1px #333\"}}>\n    \t\t<div style={{float:\"left\", \"marginLeft\":\"12px\"}}>\n\t    \t\t<div><Link to=\"/projects\">‚ÜêReturn</Link></div>\n    \t\t</div>\n    \t\t<div style={{float:\"left\", \"marginLeft\":\"30px\"}}>\n    \t\t\t<Menu>\n            <MenuItem onSelect={this.onAddTabMenuSelected}>Add New Tab</MenuItem>\n            <MenuItem onSelect={this.onSaveMenuSelected}>Save Model</MenuItem>\n            <MenuItem onSelect={this.onImportMenuSelected}>Import Model</MenuItem>\n            <MenuItem onSelect={this.onExportMenuSelected}>Export Model</MenuItem>\n            <MenuItem><Resources onSelect={this.onDatasourceSelected}/></MenuItem>\n          </Menu>\n    \t\t</div>\n        <div style={{overflow:'hidden', clear:'both'}}></div>\n          <AddTabModal isOpen={this.state.isOpenAddTabModal} onOk={this.addTab} onClose={this.onCloseAddTabModal} pluginNames={this.props.pluginNames}></AddTabModal>\n          <AddObjectModal isOpen={this.props.editorSettings.isOpenAddObjectModal} onClose={this.onCloseAddObjectModal} uri={this.props.editorSettings.uri}></AddObjectModal>\n          <AddContainmentModal isOpen={this.props.editorSettings.isOpenAddContainmentModal} onClose={this.onCloseAddContainmentModal} model={this.props.editorSettings.target} resourceSet={this.props.editorSettings.resourceSet}></AddContainmentModal>\n          <ImportJSONModal isOpen={this.state.isOpenImportJSONModal} onClose={this.onCloseImportJSONModal}></ImportJSONModal>\n          <ExportJSONModal isOpen={this.state.isOpenExportJSONModal} onClose={this.onCloseExportJSONModal}></ExportJSONModal>\n    \t</div>\n    );\n  }\n});\n\nmodule.exports = Header;"]}